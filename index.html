<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IntelliJ Clone</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
</head>
<body>
    <div class="ide-container">
        <!-- Menu Bar -->
        <div class="menu-bar">
            <div class="menu-items">
                <div class="menu-item">
                    <span>Datei</span>
                    <div class="dropdown">
                        <div class="dropdown-item" data-action="new-project">Neues Projekt <span class="shortcut">Ctrl+Shift+N</span></div>
                        <div class="dropdown-item" data-action="open-project">Projekt √∂ffnen</div>
                        <div class="dropdown-divider"></div>
                        <div class="dropdown-item" data-action="new-file">Neue Datei <span class="shortcut">Ctrl+N</span></div>
                        <div class="dropdown-item" data-action="open-file">Datei √∂ffnen <span class="shortcut">Ctrl+O</span></div>
                        <div class="dropdown-item" data-action="save-file">Speichern <span class="shortcut">Ctrl+S</span></div>
                        <div class="dropdown-divider"></div>
                        <div class="dropdown-item" data-action="close-tab">Schlie√üen <span class="shortcut">Ctrl+W</span></div>
                    </div>
                </div>
                <div class="menu-item">
                    <span>Bearbeiten</span>
                    <div class="dropdown">
                        <div class="dropdown-item" data-action="undo">R√ºckg√§ngig <span class="shortcut">Ctrl+Z</span></div>
                        <div class="dropdown-item" data-action="redo">Wiederholen <span class="shortcut">Ctrl+Y</span></div>
                        <div class="dropdown-divider"></div>
                        <div class="dropdown-item" data-action="find">Suchen <span class="shortcut">Ctrl+F</span></div>
                        <div class="dropdown-item" data-action="replace">Ersetzen <span class="shortcut">Ctrl+H</span></div>
                    </div>
                </div>
                <div class="menu-item">
                    <span>Ansicht</span>
                    <div class="dropdown">
                        <div class="dropdown-item" data-action="toggle-sidebar">Seitenleiste umschalten</div>
                        <div class="dropdown-item" data-action="toggle-theme">Theme wechseln</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Sidebar -->
            <div class="sidebar" id="sidebar">
                <div class="sidebar-header">
                    <div class="project-info">
                        <h3 id="project-name">Willkommen</h3>
                        <span class="project-path" id="project-path">Kein Projekt ge√∂ffnet</span>
                    </div>
                    <div class="sidebar-actions">
                        <button class="btn-icon" id="new-project-btn" title="Neues Projekt">üìÅ</button>
                        <button class="btn-icon" id="new-file-btn" title="Neue Datei">+</button>
                    </div>
                </div>
                <div class="project-actions">
                    <button class="project-btn" id="open-project-btn">Projekt √∂ffnen</button>
                    <button class="project-btn preview-btn" id="live-preview-btn">
                        <span class="icon">üåê</span>
                        Live Preview
                    </button>
                    <button class="project-btn" id="create-project-btn">
                        <span class="project-icon">‚ûï</span>
                        Neues Projekt
                    </button>
                    <button class="project-btn" id="import-project-btn">
                        <span class="project-icon">üìÅ</span>
                        Projekt importieren
                    </button>
                    <input type="file" id="import-file-input" webkitdirectory directory multiple style="display: none;" accept="*/*">
                </div>
                <div class="file-tree" id="file-tree">
                    <div class="file-item" data-type="file" data-name="welcome.js">
                        <span class="file-icon">üìÑ</span>
                        <span class="file-name">welcome.js</span>
                    </div>
                    <div class="file-item" data-type="file" data-name="styles.css">
                        <span class="file-icon">üé®</span>
                        <span class="file-name">styles.css</span>
                    </div>
                    <div class="file-item" data-type="file" data-name="index.html">
                        <span class="file-icon">üåê</span>
                        <span class="file-name">index.html</span>
                    </div>
                </div>
            </div>

            <!-- Editor Area -->
            <div class="editor-area">
                <div class="tab-bar" id="tab-bar">
                    <!-- Tabs werden hier dynamisch hinzugef√ºgt -->
                </div>
                <div class="editor-container">
                    <div class="line-numbers" id="line-numbers"></div>
                    <textarea id="code-editor" placeholder="Beginne mit dem Programmieren..."></textarea>
                </div>
                
                <!-- Search Bar (hidden by default) -->
                <div class="search-bar" id="search-bar" style="display: none;">
                    <input type="text" id="search-input" placeholder="Suchen...">
                    <button id="search-prev">‚Üë</button>
                    <button id="search-next">‚Üì</button>
                    <button id="search-close">√ó</button>
                </div>
            </div>
        </div>

        <!-- Console Panel -->
        <div class="console-panel" id="console-panel">
            <div class="console-header">
                <div class="console-tabs">
                    <button class="console-tab active" data-tab="output">üñ•Ô∏è Output</button>
                    <button class="console-tab" data-tab="terminal">‚ö° Terminal</button>
                    <button class="console-tab" data-tab="problems">‚ö†Ô∏è Problems</button>
                </div>
                <div class="console-actions">
                    <button class="console-btn" id="run-code-btn" title="Code ausf√ºhren (F5)">‚ñ∂Ô∏è Run</button>
                    <button class="console-btn" id="clear-console-btn" title="Console leeren">üóëÔ∏è</button>
                    <button class="console-btn" id="toggle-console-btn" title="Console ein-/ausblenden">üìã</button>
                </div>
            </div>
            <div class="console-content">
                <div class="console-tab-content active" id="output-content">
                    <div class="console-output" id="console-output">
                        <div class="console-line welcome">üöÄ IntelliJ Clone Console - Bereit f√ºr Code-Ausf√ºhrung!</div>
                        <div class="console-line info">üí° Tipp: Dr√ºcke F5 oder klicke 'Run' um deinen Code auszuf√ºhren</div>
                    </div>
                </div>
                <div class="console-tab-content" id="terminal-content">
                    <div class="terminal-output" id="terminal-output">
                        <div class="terminal-line">$ Willkommen im Terminal</div>
                        <div class="terminal-line">$ Gib 'help' ein f√ºr verf√ºgbare Befehle</div>
                    </div>
                    <div class="terminal-input-container">
                        <span class="terminal-prompt">$ </span>
                        <input type="text" class="terminal-input" id="terminal-input" placeholder="Befehl eingeben...">
                    </div>
                </div>
                <div class="console-tab-content" id="problems-content">
                    <div class="problems-list" id="problems-list">
                        <div class="no-problems">‚úÖ Keine Probleme gefunden</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Status Bar -->
        <div class="status-bar">
            <div class="status-left">
                <span id="cursor-position">Zeile 1, Spalte 1</span>
                <span class="separator">|</span>
                <span id="file-type">JavaScript</span>
            </div>
            <div class="status-right">
                <span id="encoding">UTF-8</span>
                <span class="separator">|</span>
                <span id="line-ending">LF</span>
            </div>
        </div>
    </div>

    <!-- File Input (hidden) -->
    <input type="file" id="file-input" style="display: none;" accept=".js,.html,.css,.txt,.json,.md">

    <!-- Project Creation Modal -->
    <div class="modal-overlay" id="project-modal" style="display: none;">
        <div class="modal">
            <div class="modal-header">
                <h2>Neues Projekt erstellen</h2>
                <button class="modal-close" id="close-project-modal">√ó</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="project-name-input">Projektname:</label>
                    <input type="text" id="project-name-input" placeholder="MeinProjekt" class="form-input">
                </div>
                <div class="form-group">
                    <label for="project-type">Projekttyp:</label>
                    <select id="project-type" required>
                        <option value="javascript">JavaScript</option>
                        <option value="html">HTML/CSS</option>
                        <option value="fullstack">Fullstack (HTML/JS + Spring Boot)</option>
                        <option value="react">React</option>
                        <option value="nodejs">Node.js</option>
                        <option value="empty">Leer</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="project-description">Beschreibung (optional):</label>
                    <textarea id="project-description" placeholder="Projektbeschreibung..." class="form-textarea"></textarea>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn-secondary" id="cancel-project">Abbrechen</button>
                <button class="btn-primary" id="create-project">Projekt erstellen</button>
            </div>
        </div>
    </div>

    <script src="project-manager.js"></script>
    <script src="script.js"></script>
    <script src="console.js"></script>
</body>
</html>
